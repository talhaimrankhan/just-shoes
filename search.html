<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Just Shoes — Search</title>
  <meta name="description" content="Search the JUST/SHOES collection. Filter by gender, colour, brand and more." />
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="search.css" />
</head>
<body>

<!-- ── CURSOR ── -->
<div class="cursor"></div>
<div class="cursor-ring"></div>

<!-- ══════════════════════════════════════════
     NAV (shared — identical to index.html)
══════════════════════════════════════════ -->
<nav>
  <a href="index.html" style="display:flex;align-items:center" aria-label="Just Shoes home">
    <svg viewBox="0 0 320 48" fill="none" style="height:28px;width:auto">
      <text x="0" y="38" font-family="'Space Grotesk',sans-serif" font-size="40" font-weight="300" fill="#1a1714" letter-spacing="-1" opacity=".55">JUST</text>
      <line x1="118" y1="6" x2="138" y2="46" stroke="#1a1714" stroke-width="1.5" opacity=".3"/>
      <text x="140" y="38" font-family="'Space Grotesk',sans-serif" font-size="40" font-weight="600" fill="#3d3a36" letter-spacing="-1">SHOES</text>
    </svg>
  </a>
  <div class="nav-right">
    <a href="index.html" class="nav-link">Home</a>
    <a href="search.html" class="nav-link active">Search</a>
    <a href="#" class="nav-link">About</a>
    <div class="nav-divider"></div>
    <a href="#" class="nav-btn nav-btn-ghost">Sign In</a>
    <a href="#" class="nav-btn nav-btn-solid">Sign Up</a>
  </div>
</nav>


<!-- ══════════════════════════════════════════
     SEARCH PAGE WRAPPER
══════════════════════════════════════════ -->
<div class="search-page">

  <!-- ── STICKY SEARCH HEADER ── -->
  <div class="search-header">
    <div class="search-header-inner">
      <form class="search-bar-wrap" id="searchForm">
        <svg class="search-bar-icon" width="18" height="18" viewBox="0 0 18 18" fill="none">
          <circle cx="7.5" cy="7.5" r="5.5" stroke="currentColor" stroke-width="1.5"/>
          <path d="M13 13l3 3" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
        </svg>
        <input
          type="text"
          id="searchInput"
          class="search-bar-input"
          placeholder="Search shoes, brands, styles, colours…"
          autocomplete="off"
          spellcheck="false"
        />
        <button type="button" class="search-bar-clear" id="searchClear" aria-label="Clear search">✕</button>
        <button type="submit" class="search-bar-submit">Search</button>
      </form>

      <div class="search-result-meta" id="resultsCount">
        Showing <strong>25</strong> items
      </div>
    </div>
  </div>


  <!-- ══════════════════════════════════════
       BODY: SIDEBAR + RESULTS
  ══════════════════════════════════════ -->
  <div class="search-body">

    <!-- ── FILTER SIDEBAR ── -->
    <aside class="filter-sidebar">

      <!-- Mobile toggle -->
      <button class="filter-mobile-toggle" id="filterToggle">
        <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
          <path d="M2 4h12M4 8h8M6 12h4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
        </svg>
        Filters
      </button>

      <div class="filter-sidebar-content" id="filterContent">

        <div class="filter-sidebar-header">
          <span class="filter-sidebar-title">filters</span>
          <button class="filter-clear-all" id="clearAllFilters">clear all</button>
        </div>

        <!-- Active filter tags -->
        <div class="active-filters" id="activeTags"></div>

        <!-- ── BRAND (populated from data) ── -->
        <div class="filter-group open">
          <button class="filter-group-header" type="button" onclick="toggleGroup(this)">
            <span class="filter-group-label">brand</span>
            <svg class="filter-group-chevron" width="12" height="12" viewBox="0 0 12 12" fill="none">
              <path d="M2 4l4 4 4-4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
          <div class="filter-group-body">
            <div class="filter-options" id="filterBrands">
              <div style="font-size:12px;color:var(--mid-gray);padding:4px 0">Loading…</div>
            </div>
          </div>
        </div>

        <!-- ── CATEGORY (populated from data) ── -->
        <div class="filter-group open">
          <button class="filter-group-header" type="button" onclick="toggleGroup(this)">
            <span class="filter-group-label">category</span>
            <svg class="filter-group-chevron" width="12" height="12" viewBox="0 0 12 12" fill="none">
              <path d="M2 4l4 4 4-4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
          <div class="filter-group-body">
            <div class="filter-options" id="filterCategories">
              <div style="font-size:12px;color:var(--mid-gray);padding:4px 0">Loading…</div>
            </div>
          </div>
        </div>

        <!-- ── SORT BY ── -->
        <div class="filter-group open">
          <button class="filter-group-header" type="button" aria-expanded="true">
            <span class="filter-group-label">sort by</span>
            <svg class="filter-group-chevron" width="12" height="12" viewBox="0 0 12 12" fill="none">
              <path d="M2 4l4 4 4-4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
          <div class="filter-group-body">
            <div class="filter-options">
              <label class="filter-option">
                <input type="radio" name="sort" value="latest" checked
                  style="appearance:none;-webkit-appearance:none;width:16px;height:16px;border:1.5px solid var(--warm-gray);border-radius:50%;background:var(--white);cursor:none;position:relative;transition:border-color .2s,background .2s;"
                  onchange="document.getElementById('sortSelect').value='latest';document.getElementById('sortSelect').dispatchEvent(new Event('change'));"
                />
                <span class="filter-option-label">latest</span>
              </label>
              <label class="filter-option">
                <input type="radio" name="sort" value="oldest"
                  style="appearance:none;-webkit-appearance:none;width:16px;height:16px;border:1.5px solid var(--warm-gray);border-radius:50%;background:var(--white);cursor:none;position:relative;transition:border-color .2s,background .2s;"
                  onchange="document.getElementById('sortSelect').value='oldest';document.getElementById('sortSelect').dispatchEvent(new Event('change'));"
                />
                <span class="filter-option-label">oldest</span>
              </label>
            </div>
          </div>
        </div>

      </div><!-- /filter-sidebar-content -->
    </aside>


    <!-- ── RESULTS AREA ── -->
    <main class="results-area">

      <!-- Toolbar (hidden sort select — driven by sidebar radios) -->
      <div class="results-toolbar">
        <div class="results-count" id="resultsCountInline"></div>
        <div class="sort-select-wrap">
          <span class="sort-label">sort:</span>
          <select class="sort-select" id="sortSelect" aria-label="Sort results">
            <option value="latest">Latest</option>
            <option value="oldest">Oldest</option>
          </select>
        </div>
      </div>

      <!-- Loading state -->
      <div class="grid-loading" id="searchLoading" style="display:none;">
        <div class="spinner"></div>
        Loading products…
      </div>

      <!-- Empty state -->
      <div class="search-empty" id="searchEmpty" style="display:none;">
        <svg class="search-empty-icon" viewBox="0 0 48 48" fill="none" stroke="currentColor" stroke-width="1.5">
          <circle cx="20" cy="20" r="13"/>
          <path d="M33 33l9 9" stroke-linecap="round"/>
          <path d="M15 20h10M20 15v10" stroke-linecap="round"/>
        </svg>
        <div class="search-empty-title">No results found</div>
        <p class="search-empty-sub">Try a different keyword or adjust your filters.</p>
      </div>

      <!-- Masonry grid — reuses shared styles from styles.css -->
      <div class="masonry" id="searchGrid"></div>

    </main>

  </div><!-- /search-body -->
</div><!-- /search-page -->


<!-- ══════════════════════════════════════════
     LIGHTBOX — multi-image per product
══════════════════════════════════════════ -->
<div class="lightbox" id="lightbox" role="dialog" aria-modal="true" aria-label="Product viewer">
  <button class="lightbox-close" id="lbClose" aria-label="Close">✕</button>

  <!-- prev/next PRODUCT -->
  <button class="lb-nav lb-prev" id="lbPrev" aria-label="Previous product">←</button>
  <button class="lb-nav lb-next" id="lbNext" aria-label="Next product">→</button>

  <div class="lightbox-inner">
    <!-- IMAGE PANE -->
    <div class="lightbox-img-pane">
      <!-- prev/next IMAGE within product -->
      <button class="lb-img-nav lb-img-prev" id="lbImgPrev" aria-label="Previous photo" style="display:none">‹</button>
      <img id="lbImg" src="" alt=""/>
      <button class="lb-img-nav lb-img-next" id="lbImgNext" aria-label="Next photo" style="display:none">›</button>
      <!-- image counter -->
      <div class="lb-counter" id="lbCounter" style="display:none">1 / 1</div>
      <!-- thumbnail strip -->
      <div class="lb-thumbs" id="lbThumbs"></div>
    </div>

    <!-- INFO PANE -->
    <div class="lightbox-info">
      <span class="lb-tag"      id="lbTag"></span>
      <div  class="lb-title"    id="lbTitle"></div>
      <div  class="lb-desc"     id="lbDesc"></div>
      <div  class="lb-meta-row" id="lbMeta"></div>
    </div>
  </div>
</div>

<div class="toast" id="toast"></div>

<!-- app.js for shared cursor logic, search.js for page logic -->
<script src="app.js"></script>
<script src="search.js"></script>
</body>
</html>
